<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

    <script src="../vendor/jquery-1.3.2.js" type="text/javascript"></script>

    <!--script src="../releases/jquery.mu-0.1.0.min.js"></script-->
    <script src="../lib/jquery.mu.js" type="text/javascript"></script>
    <script src="../lib/jquery.mu.searchform.js" type="text/javascript"></script>

    <script type="text/javascript">
      //<![CDATA[
      $(function () {
          function filterElementsToShowWithBooleanOrLogic(elements, searchWords) {
              matches = [];
              $.each(searchWords, function (index, searchWord) {
                  var found = elements.filter(":muContainsIgnoringCase(" + searchWord + ")");
                  found.each(function (index) { matches.push(this); });
              });
              matches = $.unique(matches);
              return $(matches, elements);
          }

          $("table tr:not(:first)").muSearchForm({
              attachWith: function (form) {
                  $("table").before(form);
              },
              inputId: "searchInput",
              loadWith: function () {
                  return "<img src='progress_white.gif' alt='Searching...' />";
              },
              highlightClass: "highlight",
              filterElementsToShowWith: filterElementsToShowWithBooleanOrLogic
          });

          $("#searchInput").before("<label for='searchInput'>Search the table below: </label>");
      });
      //]]>
    </script>

    <style type="text/css">
      span.highlight {
        font-weight:  bold;
        color:        red;
      }
    </style>

    <title>Complex example page for jQuery Mu plugin's searchForm</title>
  </head>
  <body>
    <h1>Search the table with searchForm</h1>

    <p>Complex usage of the searchForm:</p>

    <ul>
      <li>overridden element filtering with OR Boolean logic</li>
      <li>highlight matching words</li>
      <li>show graphical loader element while searching</li>
      <li>use the id of the input field to insert a label for the field</li>
    </ul>

    <table>
      <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Name</th>
        <th>Attributes</th>
      </tr>
      <tr>
        <td>jgore</td>
        <td>john.gore@hard.com</td>
        <td>John Gore</td>
        <td>hardgore, minigore, i.hate.furries!</td>
      </tr>
      <tr>
        <td>spoonman</td>
        <td>alan.spoonman@drums.net</td>
        <td>Alan Spoonman</td>
        <td>drum.fills, artists, #comments</td>
      </tr>
      <tr>
        <td>jonathan</td>
        <td>jonathan@pulverizer.com</td>
        <td>John Nathan</td>
        <td>demolishers</td>
      </tr>
      <tr>
        <td>jspade</td>
        <td>jack.spade@all.net</td>
        <td>Jack Spade</td>
        <td>all.mediocre, master.none, foo_man, bar-baz</td>
      </tr>
      <tr>
        <td>jill</td>
        <td>jill.valentine@resident.com</td>
        <td>Jill Valentine</td>
        <td>looks-to-kill</td>
      </tr>
      <tr>
        <td>chris</td>
        <td>redfield@resident.com</td>
        <td>Chris Redfield</td>
        <td>is it chris's blood?</td>
      </tr>
      <tr>
        <td>hamming</td>
        <td>jham@signal.org</td>
        <td>John Hamming</td>
        <td>high snr</td>
      </tr>
      <tr>
        <td>fleming</td>
        <td>bfleming@cough.org</td>
        <td>Bob Fleming</td>
        <td>i was about to say... cough!</td>
      </tr>
    </table>
  </body>
</html>
