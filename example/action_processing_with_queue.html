<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

    <script src="../vendor/jquery-1.3.2.js" type="text/javascript"></script>

    <!--script src="../releases/jquery.mu-0.1.0.min.js"></script-->
    <script src="../lib/jquery.mu.js" type="text/javascript"></script>
    <script src="../lib/jquery.mu.queue.js" type="text/javascript"></script>

    <script type="text/javascript">
      //<![CDATA[
      function endWork(item) {
          item.removeClass("loading");
      }

      function startWork(item) {
          item.addClass("loading");
          setTimeout(function () {
              endWork(item);
          }, 1500);
      }

      function doWork(item) {
          startWork(item);
      }

      $(function () {
          $("ul li").wrapInner("<a href='#'>").find("a").click(function () {
              var item = $(this).parent();
              $.mu.queue.action(function () {
                  doWork(item);
              });
          });
      });
      //]]>
    </script>

    <style type="text/css">
      #items {
        width: 8em;
      }
      #items a {
        color: black;
        font-weight: bold;
      }
      #items .loading {
        background: gray;
      }
    </style>

    <title>Example page for jQuery Mu plugin's queue</title>
  </head>
  <body>
    <h1>Sequential action processing with queue</h1>

    <p>Selecting an item appends an action into the queue. The queue will be processed in sequence, one action at a time.</p>

    <ul id="items">
      <li>First item</li>
      <li>Second item</li>
      <li>Third item</li>
      <li>Fourth item</li>
      <li>Fifth item</li>
    </ul>
  </body>
</html>
